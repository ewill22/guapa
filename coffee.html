<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee | Guapa</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="music.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Newsreader:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
        /* Coffee Timeline Styles */
        .journey-section {
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid var(--gray-800);
        }

        .journey-header {
            display: flex;
            align-items: flex-end;
            gap: 24px;
            margin-bottom: 8px;
        }

        .year-display h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--yellow);
            letter-spacing: -0.02em;
            line-height: 1;
            min-width: 80px;
        }

        .roaster-bars {
            flex: 1;
            display: flex;
            align-items: flex-end;
            gap: 3px;
            height: 50px;
        }

        .roaster-bar {
            flex: 1;
            background: var(--pink);
            opacity: 0.3;
            border-radius: 2px 2px 0 0;
            transition: all 0.2s;
            min-height: 4px;
            cursor: pointer;
        }

        .roaster-bar.active {
            opacity: 1;
            background: var(--yellow);
        }

        .roaster-bar:hover {
            opacity: 0.7;
        }

        .slider-row {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 20px;
        }

        .slider-spacer {
            min-width: 80px;
        }

        .slider-wrapper {
            flex: 1;
        }

        .year-slider {
            width: 100%;
            -webkit-appearance: none;
            height: 3px;
            background: var(--gray-800);
            outline: none;
            border-radius: 2px;
        }

        .year-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            background: var(--yellow);
            cursor: pointer;
            border-radius: 2px;
        }

        .year-slider::-moz-range-thumb {
            width: 14px;
            height: 14px;
            background: var(--yellow);
            cursor: pointer;
            border: none;
            border-radius: 2px;
        }

        .timeline-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
        }

        .timeline-markers span {
            font-size: 0.7rem;
            color: var(--gray-600);
        }

        /* Decade nav */
        .decade-nav {
            display: flex;
            gap: 4px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .decade-btn {
            background: transparent;
            color: var(--gray-600);
            border: 1px solid var(--gray-800);
            border-radius: 4px;
            padding: 6px 12px;
            font-family: var(--font-main);
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .decade-btn:hover {
            color: var(--yellow);
            border-color: var(--yellow);
        }

        .decade-btn.active {
            background: var(--yellow);
            color: var(--black);
            border-color: var(--yellow);
        }

        /* Compact Roaster Cards */
        .roasters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 8px;
        }

        .roaster-card {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--gray-900);
            border: 1px solid var(--gray-800);
            border-radius: 4px;
            padding: 8px 10px;
            transition: all 0.2s;
        }

        .roaster-card:hover {
            border-color: var(--pink);
        }

        .roaster-card.founded-this-year {
            border-color: var(--yellow);
            background: rgba(240, 192, 20, 0.05);
        }

        .roaster-icon {
            font-size: 1rem;
            flex-shrink: 0;
        }

        .roaster-info {
            flex: 1;
            min-width: 0;
        }

        .roaster-name {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--white);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .roaster-meta {
            font-size: 0.6rem;
            color: var(--gray-500);
        }

        .roaster-year {
            font-size: 0.65rem;
            color: var(--yellow);
            font-weight: 600;
            flex-shrink: 0;
        }

        /* Region groups */
        .region-section {
            margin-bottom: 20px;
        }

        .region-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .region-header .icon {
            font-size: 1rem;
        }

        .region-header h3 {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--pink);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .region-header .count {
            font-size: 0.65rem;
            color: var(--gray-600);
        }

        /* Active region in sidebar */
        .genre-link.filter-active {
            color: var(--yellow) !important;
            background: rgba(240, 192, 20, 0.1);
        }

        .genre-link.filter-active::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 4px;
            background: var(--yellow);
            border-radius: 50%;
            margin-right: var(--space-xs);
            vertical-align: middle;
        }

        .no-roasters {
            color: var(--gray-600);
            font-size: 0.85rem;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <a href="index.html" class="nav-logo">
            <img src="guapa_logo_dark.png" alt="Guapa" class="logo-img">
            <span class="logo-text" style="font-size: 1.8rem;">GUAPA <span style="font-size: 0.6rem; font-weight: 400; vertical-align: middle;">inc</span></span>
        </a>
        
        <div class="nav-links">
            <a href="music.html">Music</a>
            <a href="coffee.html">Coffee</a>
            <a href="index.html#shop">Data</a>
            <a href="index.html#shop">Photography</a>
            <a href="index.html#about">About</a>
        </div>

        <div class="nav-actions">
            <a href="https://instagram.com/guapa_skate" target="_blank" rel="noopener" class="nav-social">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
            </a>
            <a href="shop.html" class="nav-cart">Shop â†’</a>
        </div>

        <button class="nav-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
        </button>
    </nav>

    <main class="music-page">
        <!-- Page Header - Title and subtitle side by side -->
        <header class="music-header">
            <div class="music-header-text">
                <h1>Coffee</h1>
                <p>Origins, producers, and roasts from around the world</p>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="music-layout">
            <!-- Sidebar -->
            <aside class="music-sidebar">
                <div class="sidebar-section">
                    <h3>Regions</h3>
                    <ul class="genre-list">
                        <li><a href="#" class="genre-link filter-active" data-filter="all">All</a></li>
                        <li><a href="#" class="genre-link" data-filter="usa">USA</a></li>
                        <li><a href="#" class="genre-link" data-filter="europe">Europe</a></li>
                        <li><a href="#" class="genre-link" data-filter="nordic">Nordic</a></li>
                        <li><a href="#" class="genre-link" data-filter="asia">Asia Pacific</a></li>
                    </ul>
                </div>
            </aside>

            <!-- Main Content -->
            <div class="music-main">
                <!-- Coffee Timeline Section -->
                <section class="journey-section">
                    <nav class="decade-nav">
                        <button class="decade-btn" data-decade="60s" data-start="1960" data-end="1969">60s</button>
                        <button class="decade-btn" data-decade="70s" data-start="1970" data-end="1979">70s</button>
                        <button class="decade-btn" data-decade="80s" data-start="1980" data-end="1989">80s</button>
                        <button class="decade-btn active" data-decade="90s" data-start="1990" data-end="1999">90s</button>
                        <button class="decade-btn" data-decade="00s" data-start="2000" data-end="2009">00s</button>
                        <button class="decade-btn" data-decade="10s" data-start="2010" data-end="2019">10s</button>
                        <button class="decade-btn" data-decade="20s" data-start="2020" data-end="2025">20s</button>
                    </nav>

                    <div class="journey-header">
                        <div class="year-display">
                            <h2 id="currentYear">1995</h2>
                        </div>
                        <div class="roaster-bars" id="roasterBars"></div>
                    </div>

                    <div class="slider-row">
                        <div class="slider-spacer"></div>
                        <div class="slider-wrapper">
                            <input type="range" class="year-slider" id="yearSlider" min="1990" max="1999" value="1995">
                            <div class="timeline-markers" id="timelineMarkers">
                                <span>1990</span>
                                <span>1993</span>
                                <span>1996</span>
                                <span>1999</span>
                            </div>
                        </div>
                    </div>

                    <!-- Roasters Display -->
                    <div id="roastersDisplay"></div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <img src="lockup_light.png" alt="Guapa" class="footer-logo">
                    <p>A creative collective for friends who make things.</p>
                </div>
                <div class="footer-links">
                    <h4>Shop</h4>
                    <a href="#">All Products</a>
                    <a href="#">Photography</a>
                </div>
                <div class="footer-links">
                    <h4>Info</h4>
                    <a href="#">About</a>
                    <a href="#">Contact</a>
                </div>
                <div class="footer-links">
                    <h4>Follow</h4>
                    <a href="https://instagram.com/guapa_skate" target="_blank" rel="noopener">Instagram</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 Guapa Collective</p>
            </div>
        </div>
    </footer>

    <script>
        // Roasters data with founding years
        const roasters = [
            // 1960s
            { name: "Peet's Coffee", year: 1966, region: "usa", location: "Berkeley, CA", icon: "â˜•" },
            
            // 1970s
            { name: "Starbucks", year: 1971, region: "usa", location: "Seattle, WA", icon: "â­" },
            { name: "Coffee Connection", year: 1975, region: "usa", location: "Boston, MA", icon: "ðŸ”—" },
            { name: "Allegro Coffee", year: 1977, region: "usa", location: "Boulder, CO", icon: "ðŸ”ï¸" },
            { name: "Monmouth Coffee", year: 1978, region: "europe", location: "London, UK", icon: "ðŸ‡¬ðŸ‡§" },
            
            // 1980s
            { name: "Peerless Coffee", year: 1924, region: "usa", location: "Oakland, CA", icon: "ðŸ†" },
            { name: "Equator Coffees", year: 1995, region: "usa", location: "San Rafael, CA", icon: "ðŸŒ" },
            
            // 1990s
            { name: "Counter Culture", year: 1995, region: "usa", location: "Durham, NC", icon: "ðŸ”„" },
            { name: "Intelligentsia", year: 1995, region: "usa", location: "Chicago, IL", icon: "ðŸ’¡" },
            { name: "Stumptown", year: 1999, region: "usa", location: "Portland, OR", icon: "ðŸŒ²" },
            { name: "Square Mile", year: 1999, region: "europe", location: "London, UK", icon: "ðŸ“" },
            { name: "Tim Wendelboe", year: 1999, region: "nordic", location: "Oslo, Norway", icon: "ðŸ‡³ðŸ‡´" },
            { name: "CafÃ© Imports", year: 1997, region: "usa", location: "Minneapolis, MN", icon: "ðŸ“¦" },
            
            // 2000s
            { name: "Blue Bottle", year: 2002, region: "usa", location: "Oakland, CA", icon: "ðŸ«" },
            { name: "Single O", year: 2003, region: "asia", location: "Sydney, AU", icon: "ðŸ‡¦ðŸ‡º" },
            { name: "Ritual Coffee", year: 2005, region: "usa", location: "San Francisco, CA", icon: "âœ¨" },
            { name: "Koppi", year: 2007, region: "nordic", location: "Helsingborg, SE", icon: "ðŸ‡¸ðŸ‡ª" },
            { name: "Verve Coffee", year: 2007, region: "usa", location: "Santa Cruz, CA", icon: "ðŸŒŠ" },
            { name: "Heart Coffee", year: 2009, region: "usa", location: "Portland, OR", icon: "â¤ï¸" },
            { name: "Drop Coffee", year: 2009, region: "nordic", location: "Stockholm, SE", icon: "ðŸ’§" },
            { name: "Proud Mary", year: 2009, region: "asia", location: "Melbourne, AU", icon: "ðŸ¦˜" },
            { name: "Market Lane", year: 2009, region: "asia", location: "Melbourne, AU", icon: "ðŸ›’" },
            
            // 2010s
            { name: "The Barn", year: 2010, region: "europe", location: "Berlin, DE", icon: "ðŸ " },
            { name: "Five Elephant", year: 2010, region: "europe", location: "Berlin, DE", icon: "ðŸ˜" },
            { name: "Workshop Coffee", year: 2011, region: "europe", location: "London, UK", icon: "ðŸ”§" },
            { name: "La Cabra", year: 2012, region: "nordic", location: "Aarhus, DK", icon: "ðŸ" },
            { name: "Fuglen", year: 2012, region: "nordic", location: "Oslo/Tokyo", icon: "ðŸ¦…" },
            { name: "Onyx Coffee Lab", year: 2012, region: "usa", location: "Rogers, AR", icon: "â¬›" },
            { name: "% Arabica", year: 2014, region: "asia", location: "Kyoto, JP", icon: "ðŸ‡¯ðŸ‡µ" },
            { name: "Nomad Coffee", year: 2014, region: "europe", location: "Barcelona, ES", icon: "ðŸœï¸" },
            { name: "Passenger Coffee", year: 2014, region: "usa", location: "Lancaster, PA", icon: "ðŸš‚" },
            { name: "Brandywine Coffee", year: 2015, region: "usa", location: "Wilmington, DE", icon: "ðŸŒ¿" },
            { name: "April Coffee", year: 2016, region: "nordic", location: "Copenhagen, DK", icon: "ðŸŒ¸" },
            { name: "Gardelli", year: 2016, region: "europe", location: "ForlÃ¬, IT", icon: "ðŸ†" },
            { name: "Little Wolf", year: 2016, region: "usa", location: "Ipswich, MA", icon: "ðŸº" },
            { name: "Sey Coffee", year: 2017, region: "usa", location: "Brooklyn, NY", icon: "ðŸ—½" },
            { name: "MaÃ±ana", year: 2018, region: "usa", location: "Brooklyn, NY", icon: "ðŸŒ…" },
            { name: "Manhattan Coffee", year: 2018, region: "europe", location: "Rotterdam, NL", icon: "ðŸ™ï¸" },
            { name: "Commonplace Coffee", year: 2018, region: "usa", location: "Pittsburgh, PA", icon: "ðŸ­" },
            
            // 2020s
            { name: "Dak Coffee", year: 2020, region: "europe", location: "Amsterdam, NL", icon: "ðŸ¦†" },
            { name: "Detour Coffee", year: 2009, region: "usa", location: "Burlington, ON", icon: "ðŸ”€" },
            { name: "Coffee Bros", year: 2019, region: "usa", location: "Queens, NY", icon: "ðŸ‘¬" },
            { name: "Black & White", year: 2015, region: "usa", location: "Wake Forest, NC", icon: "â—" },
            { name: "Methodical Coffee", year: 2015, region: "usa", location: "Greenville, SC", icon: "ðŸ“Š" },
        ];

        let currentYear = 1995;
        let currentDecade = { start: 1990, end: 1999 };
        let activeFilter = 'all';

        const yearSlider = document.getElementById('yearSlider');
        const currentYearDisplay = document.getElementById('currentYear');
        const roasterBars = document.getElementById('roasterBars');
        const roastersDisplay = document.getElementById('roastersDisplay');

        // Filter sidebar clicks
        document.querySelectorAll('.genre-link[data-filter]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelectorAll('.genre-link[data-filter]').forEach(l => l.classList.remove('filter-active'));
                link.classList.add('filter-active');
                activeFilter = link.dataset.filter;
                updateDisplay();
            });
        });

        // Decade button clicks
        document.querySelectorAll('.decade-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.decade-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                currentDecade = {
                    start: parseInt(btn.dataset.start),
                    end: parseInt(btn.dataset.end)
                };
                
                yearSlider.min = currentDecade.start;
                yearSlider.max = currentDecade.end;
                currentYear = currentDecade.start;
                yearSlider.value = currentYear;
                
                updateTimelineMarkers();
                updateDisplay();
            });
        });

        function updateTimelineMarkers() {
            const markers = document.getElementById('timelineMarkers');
            const range = currentDecade.end - currentDecade.start;
            const step = Math.floor(range / 3);
            markers.innerHTML = `
                <span>${currentDecade.start}</span>
                <span>${currentDecade.start + step}</span>
                <span>${currentDecade.start + step * 2}</span>
                <span>${currentDecade.end}</span>
            `;
        }

        function getRoasterCounts() {
            const counts = {};
            for (let y = currentDecade.start; y <= currentDecade.end; y++) counts[y] = 0;
            
            roasters.forEach(r => {
                if (r.year >= currentDecade.start && r.year <= currentDecade.end) {
                    if (activeFilter === 'all' || r.region === activeFilter) {
                        counts[r.year]++;
                    }
                }
            });
            return counts;
        }

        function renderRoasterBars() {
            const counts = getRoasterCounts();
            const maxCount = Math.max(...Object.values(counts), 1);
            roasterBars.innerHTML = '';
            
            for (let y = currentDecade.start; y <= currentDecade.end; y++) {
                const bar = document.createElement('div');
                bar.className = `roaster-bar${y === currentYear ? ' active' : ''}`;
                const height = (counts[y] / maxCount) * 100;
                bar.style.height = `${Math.max(height, 8)}%`;
                bar.title = `${y}: ${counts[y]} roasters founded`;
                bar.onclick = () => { yearSlider.value = y; updateYear(y); };
                roasterBars.appendChild(bar);
            }
        }

        function getFilteredRoasters() {
            return roasters.filter(r => {
                if (activeFilter !== 'all' && r.region !== activeFilter) return false;
                return r.year <= currentYear;
            });
        }

        function renderRoasters() {
            const filtered = getFilteredRoasters();
            
            if (filtered.length === 0) {
                roastersDisplay.innerHTML = '<div class="no-roasters">No roasters found for this period.</div>';
                return;
            }

            // Group by region
            const byRegion = {};
            filtered.forEach(r => {
                if (!byRegion[r.region]) byRegion[r.region] = [];
                byRegion[r.region].push(r);
            });

            const regionNames = {
                usa: { name: 'USA', icon: 'ðŸ‡ºðŸ‡¸' },
                europe: { name: 'Europe', icon: 'ðŸ‡ªðŸ‡º' },
                nordic: { name: 'Nordic', icon: 'â„ï¸' },
                asia: { name: 'Asia Pacific', icon: 'ðŸŒ' }
            };

            let html = '';
            Object.entries(byRegion).forEach(([regionId, regionRoasters]) => {
                const region = regionNames[regionId] || { name: regionId, icon: 'â˜•' };
                regionRoasters.sort((a, b) => b.year - a.year || a.name.localeCompare(b.name));
                
                html += `
                    <div class="region-section">
                        <div class="region-header">
                            <span class="icon">${region.icon}</span>
                            <h3>${region.name}</h3>
                            <span class="count">(${regionRoasters.length})</span>
                        </div>
                        <div class="roasters-grid">
                            ${regionRoasters.map(r => `
                                <div class="roaster-card${r.year === currentYear ? ' founded-this-year' : ''}">
                                    <span class="roaster-icon">${r.icon}</span>
                                    <div class="roaster-info">
                                        <div class="roaster-name">${r.name}</div>
                                        <div class="roaster-meta">${r.location}</div>
                                    </div>
                                    <span class="roaster-year">${r.year}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            roastersDisplay.innerHTML = html;
        }

        function updateYear(year) {
            currentYear = parseInt(year);
            currentYearDisplay.textContent = currentYear;
            renderRoasterBars();
            renderRoasters();
        }

        function updateDisplay() {
            currentYearDisplay.textContent = currentYear;
            renderRoasterBars();
            renderRoasters();
        }

        yearSlider.addEventListener('input', (e) => updateYear(e.target.value));

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentYear > currentDecade.start) {
                yearSlider.value = currentYear - 1;
                updateYear(currentYear - 1);
            }
            if (e.key === 'ArrowRight' && currentYear < currentDecade.end) {
                yearSlider.value = currentYear + 1;
                updateYear(currentYear + 1);
            }
        });

        // Mobile nav toggle
        const navToggle = document.querySelector('.nav-toggle');
        const navLinks = document.querySelector('.nav-links');
        navToggle.addEventListener('click', () => {
            navLinks.classList.toggle('nav-links--open');
            navToggle.classList.toggle('nav-toggle--open');
        });

        // Initialize
        updateTimelineMarkers();
        updateDisplay();
    </script>
</body>
</html>
